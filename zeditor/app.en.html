<app-title></app-title>
<app-filename></app-filename>
<app-editor class=app>
<div id=matrix></div>
<div id=table></div>
<div id=ctrl>
<div id=char></div>
<canvas id=demo_char></canvas>
<div id=code></div>
<div id=demo_str></div>
<span>Bitmap:</span>
<select id=font_size tabindex=-1>
<optgroup id=view label="view"></optgroup>
<optgroup id=conv label="convert"></optgroup>
</select>
<span>Table:</span>
<select id=table_size tabindex=-1>
<option value=128>128 chars
<option value=256>256 chars
</select>
<span>Type:</span>
<select id=type tabindex=-1>
<option value=0>direct
<option value=1>inverse
</select>
<span>Files:</span>
<select id=files tabindex=-1></select>
<span>Download file:</span>
<select id=download tabindex=-1>
<option value=0>.bin
<option value=1>.png
<option value=2>.asm
</select>
<select id=format tabindex=-1>
<option value=0>char by char
<option value=1>line by line
</select>
</div>
</app-editor>

<app-menu>
<span>&copy; <a href="mailto:vital72@86rk.ru?subject=zeditor" target="_blank" tabindex=-1>Poedinok Vitaliy</a>, 2024</span>
<span></span>
<span></span>
<span><span>F1</span><a name=help>help</a></span>
<span><span>F2</span><a name=save>save</a></span>
<span><span>F3</span><a name=open>open</a></span>
<span><span>Alt+F3</span><a name=open_dialog>upload from db</a></span>
<span class=conf>
<a name=conf>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0,1h16v2H0V1z M0,7h16v2H0V7z M0,13h16v2H0V13z"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.7,15.8L8,9.5l6.3,6.3l1.5-1.5L9.5,8l6.3-6.3l-1.5-1.5L8,6.5L1.7,0.2L0.2,1.7L6.5,8l-6.3,6.3L1.7,15.8z"/></svg>
</a>
</span>
</app-menu>

<app-conf>
<h3>Style</h3>
<ul>
<li><a name=design design=blue>Blue</a>
<li><a name=design design=violet>Violet</a>
<li><a name=design design=green>Green</a>
<li><a name=design design=orange>Orange</a>
</ul>
<hr>
<h3>Color filter</h3>
<div class="slider0 toggle"><div id=mix_toggle on="ON" off="OFF"></div></div>
<div id=mix_color_filter>
<input type=color id=mix_color>
<span>opacity:</span><b id=mix_opacity_val></b>
<div class="slider0 slider"><div id=mix_opacity></div></div>
<span>mix mode:</span><b id=mix_mode_val></b>
<div class="slider0 slider"><div id=mix_mode></div></div>
<input type=checkbox id=mix_css_filter_on>
<label for=mix_css_filter_on> css filter:</label>
<input type=text id=mix_css_filter>
</div>
<hr>
<h3>.png fonts downloads</h3>
<div id=png_type>
<input type=radio name=png_type id=__png_lbl0 value=0>
<label for=__png_lbl0> matrix 16&times;16 format</label>
<input type=radio name=png_type id=__png_lbl1 value=1>
<label for=__png_lbl1> column format</label>
<input type=radio name=png_type id=__png_lbl2 value=2>
<label for=__png_lbl2> row format</label>
</div>
<div id=png_size>
<input type=radio name=png_size id=__png_size_lbl1 value=1>
<label for=__png_size_lbl1> x1 size</label>
<input type=radio name=png_size id=__png_size_lbl2 value=2>
<label for=__png_size_lbl2> x2 size</label>
<input type=radio name=png_size id=__png_size_lbl4 value=4>
<label for=__png_size_lbl4> x4 size</label>
</div>
<hr>
<h3>.asm file templates</h3>
<span>char by char:</span>
<textarea id=tpl_char_by_char wrap=off spellcheck=false></textarea>
<span>line by line:</span>
<textarea id=tpl_line_by_line wrap=off spellcheck=false></textarea>
<hr>
<h3>Filename templates</h3>
<span>char by char:</span>
<input type=text id=tpl_filename_format0>
<span>line by line:</span>
<input type=text id=tpl_filename_format1>
<div id=filename_format>
<input type=radio name=filename_format id=__ff_lbl0 value=0>
<label for=__ff_lbl0> apply to all fonts</label>
<input type=radio name=filename_format id=__ff_lbl1 value=1>
<label for=__ff_lbl1> only for new fonts</label>
</div>
<fieldset>
<legend>Template Variables</legend>
<b>%WIDTH%</b><span> &mdash; font width, pixels</span>
<br>
<b>%HEIGHT%</b><span> &mdash; font height, pixels</span>
<br>
<b>%SIZE%</b><span> &mdash; char table size (128/256)</span>
<br>
<b>%EXT%</b><span> &mdash; file extension (bin/png/asm)</span>
<br>
<b>%FILE_NUM%</b><span> &mdash; number of the opened file</span>
</fieldset>
<hr>
<h3>Name of the new font</h3>
<input type=text id=tpl_new_fontname>
<hr>
<h3>Демо-строка</h3>
<input type=text id=inp_demo_str>
<hr>
<h3>Options</h3>
<input type=checkbox id=hex_code><label for=hex_code>display hex codes</label>
<input type=checkbox id=double_size_demo><label for=double_size_demo>x2 size demo-char</label>
<input type=checkbox id=inverted_demo_str><label for=inverted_demo_str>inversion demo-string</label>
<hr>
<h3>Custom sizes</h3>
<fieldset id=custom_size></fieldset>
<div class=inp>
<input type=checkbox id=custom_size_width><label for=custom_size_width val-w6=6 val-w8=8></label>
<select id=custom_size_height></select>
<span data-a=add_size>&#x2795;</span>
</div>
<hr>
<h3>Code page</h3>
<div id=codepage>
<input type=radio name=codepage id=__cp_lbl0 value=CP437>
<label for=__cp_lbl0> CP437</label>
<input type=radio name=codepage id=__cp_lbl1 value=CP866>
<label for=__cp_lbl1> CP866</label>
<input type=radio name=codepage id=__cp_lbl2 value=CP1251>
<label for=__cp_lbl2> CP1251</label>
<input type=radio name=codepage id=__cp_lbl3 value=KOI8R>
<label for=__cp_lbl3> KOI8-R</label>
<input type=radio name=codepage id=__cp_lbl4 value=KOI7_N0>
<label for=__cp_lbl4> KOI-7 N0</label>
<input type=radio name=codepage id=__cp_lbl5 value=KOI7_N1>
<label for=__cp_lbl5> KOI-7 N1</label>
<input type=radio name=codepage id=__cp_lbl6 value=KOI7_N2>
<label for=__cp_lbl6> KOI-7 N2</label>
</div>
<hr>
<h3>Language <span>(refresh required)</span></h3>
<div id=lang>
<input type=radio name=lang id=__lang_ru value=ru>
<label for=__lang_ru> Русский</label>
<input type=radio name=lang id=__lang_en value=en>
<label for=__lang_en> English</label>
</div>
<hr>
<h3>Font storage</h3>
<div class="slider0 toggle"><div id=storage_toggle on="ON" off="OFF"></div></div>
</app-conf>

<app-status></app-status>

<script id=tpl_file_list type="text/template">
<table class=menu>
<thead>
<tr>
<th>#
<th>File
<th>Font size, WxH
<th>Number of fonts in file
<th>Table size, chars
<th>Table size, bytes
</tr>
</thead>
{{{
<tr file=%FILE_ID%>
<td name=modal class=counter>
<td name=modal class=name>%FILE_NAME%
<td name=modal>%FONT_SIZE%
<td name=modal>%FONT_COUNT%
<td name=modal>%TABLE_SIZE%
<td name=modal>%FILE_SIZE%
</tr>
}}}
</table>
</script>

<script id=tpl_char_by_char_def type="text/template">
{{{:%CHAR_SIZE%
%?%CC(1)%%("\t;  char 0x%HEX(%CHAR%)%")%?%
%?%("\tDB\t")%%JOIN(
	"0%UPPER(%HEX(%CODE%)%)%h",
	", ",
	%?%CC(%CHAR_SIZE%)%1%:%16?%
)%?%
}}}
</script>

<script id=tpl_line_by_line_def type="text/template">
{{{
LINE%LINE%:
{{{
%?%("\tDB\t")%%JOIN(
	"0%UPPER(%HEX(%CODE%)%)%h",
	", ",
	16
)%?%
}}}
}}}
</script>

<script id=tpl_custom_size type="text/template">
{{{
<div>
<size w=%WIDTH% h=%HEIGHT%>&#x2A2F;</size>
<span data-idx=%IDX% data-a=del_size>&#x2716;</span>
</div>
}}}
</script>

<script id=app_cfg type="text/template">
%CFG({
	APP_TITLE:		"Bitmap font editor",
	ERROR: {
		NO_SUPPORT:	"Your browser does not support this feature",
		UPLOAD_ERROR:	"Unable to upload file `**%NAME%**`",
		LOAD_ERROR:	"Failed to load file `**%NAME%**`%?: %STATUS%?%",
		FILE_SIZE:	"Invalid file size `**%NAME%**`. Wrong format?",
		FILE_IMG:	"Invalid graphic file `**%NAME%**`."
	},
	NOTICE: {
		LOADED:		"File `**%NAME%**` loaded",
		COPIED_RANGE:	"Copied chars in the range **0x%BEGIN%**&ndash;**0x%END%**",
		COPIED_CHAR:	"Copied char **0x%CODE%**",
		CLEAR:		"Char buffer cleared"
	},
	MODAL_TITLE: {
		HELP:		"Help",
		UPLOAD:		"Upload file from database",
		PROJECT:	"Gluing fonts",
		FONT_HEIGHT:	"Select the font height:",
		TABLE_SIZE:	"Select symbol table size:"
	}
})%
</script>
